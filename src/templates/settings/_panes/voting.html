{% import '_includes/forms' as forms %}
{% import 'verbb-base/_macros' as macros %}

{{ forms.lightswitchField({
    first: true,
    label: 'Enable voting' | t('comments'),
    instructions: 'Allow your users to upvote or downvote other users comments.' | t('comments'),
    name: 'allowVoting',
    on: settings.allowVoting,
    warning: macros.configWarning('allowVoting', 'comments'),
}) }}

{{ forms.lightswitchField({
    label: 'Enable guest voting' | t('comments'),
    instructions: 'Allow guest users to upvote or downvote other users comments.' | t('comments'),
    name: 'allowGuestVoting',
    on: settings.allowGuestVoting,
    warning: macros.configWarning('allowGuestVoting', 'comments'),
}) }}

{{ forms.textField({
    label: "Downvote comments threshold" | t('comments'),
    id: 'downvoteCommentLimit',
    name: 'downvoteCommentLimit',
    instructions: "Users can downvote a comment, which reflects if they agree or disagree with it. After the provided amount of downvotes are received for a comment, the 'isPoorlyRated' property for the comment will be true. You can then decide how to handle a comment with a poor rating." | t('comments'),
    value: settings.downvoteCommentLimit,
    warning: macros.configWarning('downvoteCommentLimit', 'comments'),
}) }}

{{ forms.lightswitchField({
    label: "Hide voting for threshold" | t('comments'),
    instructions: "When the downvoting threshold is met, should the voting controls be hidden?" | t('comments'),
    name: 'hideVotingForThreshold',
    on: settings.hideVotingForThreshold,
    warning: macros.configWarning('hideVotingForThreshold', 'comments'),
}) }}